<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DRAGON: DRAGON Documentation: Index Page</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">DRAGON
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">DRAGON Documentation: Index Page </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="intro_sec"></a>
Introduction</h1>
<p>The CR propagation equation from a continuos distribution of sources can be written in the general form </p><p class="formulaDsp">
<img class="formulaDsp" alt="\[ \frac{\partial N^i}{\partial t} - {\nabla}\cdot \left( D\,{\nabla} -v_{c}\right)N^{i} + \frac{\partial}{\partial p} \left(\dot{p}-\frac{p}{3}{\nabla}\cdot{v}_{c}\right) N^i -\frac{\partial}{\partial p} p^2 D_{pp} \frac{\partial}{\partial p} \frac{N^i}{p^2} = Q^{i}(p,r,z) + \sum_{j&gt;i}c\beta n_{\rm gas}(r,z) \sigma_{ji}N^{j} - c\beta n_{\rm gas}\sigma_{\rm in}(E_{k})N^{i} \]" src="form_0.png"/>
</p>
<p>Here <img class="formulaInl" alt="$N^i(p,r,z)$" src="form_1.png"/> is the number density of the <img class="formulaInl" alt="$i$" src="form_2.png"/>-th atomic species; <img class="formulaInl" alt="$p$" src="form_3.png"/> is its momentum; <img class="formulaInl" alt="$\beta$" src="form_4.png"/> its velocity in units of the speed of light <img class="formulaInl" alt="$c$" src="form_5.png"/>; <img class="formulaInl" alt="$\sigma_{in}$" src="form_6.png"/> is the total inelastic cross section onto the ISM gas, whose density is <img class="formulaInl" alt="$n_{\rm gas}$" src="form_7.png"/>; <img class="formulaInl" alt="$\sigma_{ij}$" src="form_8.png"/> is the production cross-section of a nuclear species <img class="formulaInl" alt="$j$" src="form_9.png"/> by the fragmentation of the <img class="formulaInl" alt="$i$" src="form_2.png"/>-th one; <img class="formulaInl" alt="$D$" src="form_10.png"/> is the spatial diffusion coefficient; <img class="formulaInl" alt="$v_{c}$" src="form_11.png"/> is the convection velocity. The last term on the l.h.s. describes diffusive reacceleration of CRs in the turbulent galactic magnetic field.</p>
<p>DRAGON adopts a second-order Cranck-Nicholson scheme with Operator Splitting and time overrelaxation to solve the diffusion equation. This provides fast a solution that is enough accurate for the average user. Occasionally, users may want to have very accurate solutions to their problem. To enable this feature, users may get close to the accurate solution by using the fast method, and then switch to a more accurate solution scheme, featuring the Alternating-Direction-Implicit (ADI) Cranck-Nicholson scheme.</p>
<p>Some parts of DRAGON are built following <a href="http://galprop.stanford.edu/">GALPROP</a>, v50p. The first reason is that it is a waste of time to reimplement standard parts, like energy losses, in which nothing new has to be found. The second reason is that it is essential to be able to compare our predictions with that of the Galprop code, and this can be done only by following the details of its implementation. Therefore, we kept in the code some features and models used in Galprop, like nuclear cross-sections, the gas distribution, the convergence "technique". However, each of these models is accompanied by other models, which can be selected by setting the appropriate switch. This is done very easily using the well known C++ structure of abstract/derived classes. The code is then very flexible and easy to manage and to modify or update.</p>
<p>The code was built having in mind a few motivations:</p><ul>
<li>in order to find good propagation models one needs to run the code thousand times. Therefore we wrote the code aiming at performances and with an efficient memory management.</li>
<li>we wanted to propagate DM originated cosmic rays. Therefore we wrote DRAGON as a library that can be coupled to, e.g., DarkSUSY.</li>
<li>from the physics point of view, we wanted to have a position dependent diffusion model, which requires a substantial modification of the discretization scheme.</li>
</ul>
<h1><a class="anchor" id="install_sec"></a>
Installation</h1>
<p>DRAGON comes with one library and one executable. The library contains the whole structure that is used to solve the CR propagation equation, and can be linked against other programs exploiting DRAGON classes. The executable is the result of coupling the DRAGON library with a driver routine, which reads user's input and solves the transport equation.</p>
<h2><a class="anchor" id="step1"></a>
Step 1:  Download and unpack the code.</h2>
<p>DRAGON can be found <a href="OFFICIAL_DRAGON.tar.gz">here</a>.</p>
<p>Then just tar xfz DRAGON.tar.gz </p>
<h2><a class="anchor" id="step2"></a>
Step 2: Run the configure macro.</h2>
<p>configure needs some input from the user. User must tell configure where some external libraries are located. DRAGON requires <a href="http://www.gnu.org/software/gsl/">GSL libraries</a> and the <a href="http://heasarc.gsfc.nasa.gov/fitsio/">CFITSIO library</a>. It also optionally requires <a href="http://www.physto.se/~edsjo/darksusy/">DarkSUSY</a>, if user wants to propagate DM originated cosmic rays.</p>
<p>A typical command line is:</p>
<p>./configure &ndash;with-gsl-path=&lt;PATH_TO_GSL_EXEC&gt; &ndash;with-cfitsio-include=&lt;PATH_TO_CFITSIO_INCLUDE_FILES&gt; &ndash;with-cfitsio-library=&lt;PATH_TO_CFITSIO_LIBRARY&gt; FFLAGS='-fPIC'</p>
<p>This will preset DRAGON to propagate astrophysically generated cosmic rays. If user wants instead to propagate DM originated cosmic rays, then he should configure with the following command line:</p>
<p>./configure &ndash;with-gsl-path=&lt;PATH_TO_GSL_EXEC&gt; &ndash;with-cfitsio-include=&lt;PATH_TO_CFITSIO_INCLUDE_FILES&gt; &ndash;with-cfitsio-library=&lt;PATH_TO_CFITSIO_LIBRARY&gt; FFLAGS='-fPIC' &ndash;with-ds-include=&lt;PATH_TO_DARKSUSY_INCLUDE_FILES&gt; &ndash;with-ds-library=&lt;PATH_TO_DARKSUSY_LIBRARY_FILES&gt;</p>
<p>In this case DRAGON will only propagate DM originated cosmic rays. The default installation path is in the same folder as the source code is (the program automatically creates the bin/ and lib/ subfolders). It can be set via &ndash;prefix=&lt;NEW_INSTALLATION_PATH&gt; </p>
<h2><a class="anchor" id="step3"></a>
Step 3: Compile the code.</h2>
<p>Just run make and make install. The executable will be in $PREFIX/bin. </p>
<h2><a class="anchor" id="step4"></a>
Step 4: Enjoy DRAGON.</h2>
<p>Run $PREFIX/bin/DRAGON &lt;argument_list&gt;</p>
<h1><a class="anchor" id="Example_sec"></a>
Examples</h1>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
